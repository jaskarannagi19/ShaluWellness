{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <!-- link to the SqPaymentForm library -->
<script type="text/javascript" src="https://js.squareupsandbox.com/v2/paymentform">
</script>


    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<!-- link to the local custom styles for SqPaymentForm -->
<link rel="stylesheet" type="text/css" href="mysqpaymentform.css">

<link rel="shortcut icon" type="image/x-icon" href="{% static 'assets/images/favicon.png' %}">
<!-- Animation CSS -->
<link rel="stylesheet" type="text/css" href="{% static 'assets/css/animate.css' %}">
<!-- Latest Bootstrap min CSS -->
<link rel="stylesheet" type="text/css" href="{% static 'assets/bootstrap/css/bootstrap.min.css' %}">
<!-- Google Font -->
<link href="https://fonts.googleapis.com/css?family=Oswald:200,300,400,500,600,700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&display=swap" rel="stylesheet">
<!-- Icon Font CSS -->
<link rel="stylesheet" type="text/css" href="{% static '/assets/css/ionicons.min.css'%}">
<!-- FontAwesome CSS -->
<link rel="stylesheet" type="text/css" href="{% static '/assets/css/all.min.css'%}">
<!-- Flaticon Font CSS -->
<link rel="stylesheet" type="text/css" href="{% static '/assets/css/flaticon.css'%}">
<!-- Themify Font CSS -->
<link rel="stylesheet" type="text/css" href="{% static '/assets/css/themify-icons.css'%}">
<!--- owl carousel CSS-->
<link rel="stylesheet" type="text/css" href="{% static '/assets/owlcarousel/css/owl.carousel.min.css'%}">
<link rel="stylesheet" type="text/css" href="{% static '/assets/owlcarousel/css/owl.theme.css'%}">
<link rel="stylesheet" type="text/css" href="{% static '/assets/owlcarousel/css/owl.theme.default.min.css'%}">
<!-- Magnific Popup CSS -->
<link rel="stylesheet" type="text/css" href="{% static '/assets/css/magnific-popup.css'%}">
<!-- jquery-ui CSS -->
<link rel="stylesheet" type="text/css" href="{% static '/assets/css/jquery-ui.css'%}">
<!-- Style CSS -->
<link rel="stylesheet" type="text/css" href="{% static '/assets/css/style.css'%}">
<link rel="stylesheet" type="text/css" href="{% static '/assets/css/responsive.css'%}">
<link rel="stylesheet" id="layoutstyle" type="text/css" href="{% static '/assets/color/theme-default.css'%}">

</head>
<body>
{% csrf_token %}

<!-- START HEADER -->
<header class="header_wrap fixed-top dark_skin main_menu_uppercase main_menu_weight_600">
    <div class="container">
        <nav class="navbar navbar-expand-lg">
            <a class="navbar-brand" href="index.html">
                <img class="logo_light" src="{% static '/assets/images/loading_logo.png'%}" alt="logo" />
                <img class="logo_dark" src="{% static '/assets/images/loading_logo.png'%}" alt="logo" />
                <img class="logo_default" src="{% static '/assets/images/loading_logo.png'%}" alt="logo" />
            </a>


            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"> <span class="ion-android-menu"></span> </button>

            <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
				<div>
            <h2 style="color:forestgreen; text-align:left">Shalu Wellbeing</h2>
            <span style="color:forestgreen; margin-left:-25%">"Inspiring Well Being Individually and Collectively"</span>
            </div>


                <ul class="navbar-nav">
                    <li class="dropdown">
                        <input type="button" value="Home" class="nav-link" id="home" style="border:none;background:transparent"/>
                    </li>
                    <li>
                        <input type="button" value="Events" class="nav-link" id="events" style="border:none;background:transparent"/>
                    </li>

                    <li>
                        <input type="button" value="About" class="nav-link" id="about" style="border:none;background:transparent"/>
                    </li>

                    <li>
                        <input type="button" value="Contact" class="nav-link" id="contact" style="border:none;background:transparent"/>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
</header>
<!-- END HEADER -->


<section class="pb_70">
	<div class="container">
        <div class="row justify-content-center">
            <div class="col-xl-6 col-lg-8 col-md-10 text-center animation" data-animation="fadeInUp" data-animation-delay="0.2s">
                <div class="heading_s1">
                    <span class="sub_heading">Enter details</span>
                    <h2>Payment Section</h2>
                </div>
                <p></p>
                <div class="small_divider clearfix"></div>
            </div>
        </div>
		<div class="row">


            <div class="col-lg-6 col-sm-6">



<div id="" class="container">
        <h3>Enter your email so we know you.</h3>

    <input type="text" id="txtEmail" class="form-control" style="border:none" placeholder="Email" />
    <input type="text" id="txtMobile"class="form-control" style="border:none" placeholder="Mobile"/>

</div> <!-- end #form-container -->



            </div>



            <div class="col-lg-6 col-sm-6">



<div id="form-container" class="container">
    <h3>Enter your card details</h3>

     <div id="sq-card-number"></div>
     <div class="third" id="sq-expiration-date"></div>
     <div class="third" id="sq-cvv"></div>
     <div class="third" id="sq-postal-code"></div>
     <button id="sq-creditcard" class="button-credit-card" onclick="onGetCardNonce(event)">Pay $1.00</button>

</div> <!-- end #form-container -->



            </div>


        </div>
    </div>

    <div class="shape_img">
    	<div class="ol_shape5">
            <div class="animation" data-animation="fadeInLeft" data-animation-delay="0.5s">
                <img src="{% static 'assets/images/shape5.png'%}" alt="image"/>
            </div>
        </div>
        <div class="ol_shape6">
            <div class="animation" data-animation="fadeInLeft" data-animation-delay="0.5s">
                <img src="{% static 'assets/images/shape6.png'%}" alt="image"/>
            </div>
        </div>
        <div class="ol_shape7">
            <div class="animation" data-animation="fadeInLeft" data-animation-delay="0.5s">
                <img data-parallax='{"x": 20, "smoothness": 20}' src="{% static 'assets/images/shape7.png'%}" alt="image"/>
            </div>
        </div>
    </div>
</section>



</body>

<script type="text/javascript">
     // Create and initialize a payment form object
     const paymentForm = new SqPaymentForm({
       // Initialize the payment form elements

       //TODO: Replace with your sandbox application ID
       applicationId: "sandbox-sq0idb-X3UG-ch2G4_yG9TAl6zGFg",
       inputClass: 'sq-input',
       autoBuild: false,
       // Customize the CSS for SqPaymentForm iframe elements
       inputStyles: [{
           fontSize: '16px',
           lineHeight: '24px',
           padding: '16px',
           placeholderColor: '#a0a0a0',
           backgroundColor: 'transparent',
       }],
       // Initialize the credit card placeholders
       cardNumber: {
           elementId: 'sq-card-number',
           placeholder: 'Card Number'
       },
       cvv: {
           elementId: 'sq-cvv',
           placeholder: 'CVV'
       },
       expirationDate: {
           elementId: 'sq-expiration-date',
           placeholder: 'MM/YY'
       },
       postalCode: {
           elementId: 'sq-postal-code',
           placeholder: 'Postal'
       },
       email:{
       elementId: 'txtEmail',
           placeholder: 'Email'
       },
       mobile:{
       elementId: 'txtMobile',
           placeholder: 'Mobile'
       },
       // SqPaymentForm callback functions
       callbacks: {
           /*
           * callback function: cardNonceResponseReceived
           * Triggered when: SqPaymentForm completes a card nonce request
           */
           cardNonceResponseReceived: function (errors, nonce, cardData) {
           if (errors) {
               // Log errors from nonce generation to the browser developer console.
               console.error('Encountered errors:');
               errors.forEach(function (error) {
                   console.error('  ' + error.message);
               });
               alert('Encountered errors, check browser developer console for more details');
               return;
           }
              //TODO: Replace alert with code in step 2.1
              csrfmiddlewaretoken=$( "input[name=csrfmiddlewaretoken]" ).val()

              console.log(csrfmiddlewaretoken)
              $.ajax({
                    type:"POST",
                    url: "/charge",
                    data:{
                        'nonce': nonce,
                        'csrfmiddlewaretoken':csrfmiddlewaretoken
                    },
                    success: function( data )
                    {
                    $( '#like'+ catid ).remove();
                    $( '#message' ).text(data);
                    }
     })





           }
       }
     });

     paymentForm.build();


     function onGetCardNonce(event) {
       // Don't submit the form until SqPaymentForm returns with a nonce
       event.preventDefault();
       // Request a nonce from the SqPaymentForm object
       paymentForm.requestCardNonce();
     }

   </script>


</html>